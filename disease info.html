<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedInfo - Disease Information Portal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            text-align: center;
        }

        .logo {
            color: #2563eb;
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .tagline {
            color: #6b7280;
            font-size: 1.1rem;
        }

        .search-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .search-container {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        #searchInput {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        #searchInput:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .search-btn {
            background: #2563eb;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .search-btn:hover {
            background: #1d4ed8;
            transform: translateY(-2px);
        }

        .search-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            color: #2563eb;
        }

        .spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #2563eb;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .quick-searches {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .quick-tag {
            background: #f1f5f9;
            color: #475569;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid #e2e8f0;
        }

        .quick-tag:hover {
            background: #2563eb;
            color: white;
            transform: translateY(-1px);
        }

        .results-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            overflow: hidden;
            display: none;
        }

        .disease-header {
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            color: white;
            padding: 25px;
            text-align: center;
        }

        .disease-name {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .disease-category {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .disease-content {
            padding: 30px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .info-card {
            border: 2px solid #f1f5f9;
            border-radius: 12px;
            padding: 25px;
            transition: all 0.3s ease;
        }

        .info-card:hover {
            border-color: #2563eb;
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(37, 99, 235, 0.1);
        }

        .card-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-icon {
            width: 24px;
            height: 24px;
            background: #2563eb;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
        }

        .card-content {
            color: #4b5563;
            line-height: 1.6;
        }

        .symptom-list, .precaution-list, .treatment-list {
            list-style: none;
        }

        .symptom-list li, .precaution-list li, .treatment-list li {
            padding: 8px 0;
            border-bottom: 1px solid #f3f4f6;
            position: relative;
            padding-left: 25px;
        }

        .symptom-list li:before {
            content: "‚Ä¢";
            color: #ef4444;
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .precaution-list li:before {
            content: "‚úì";
            color: #10b981;
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .treatment-list li:before {
            content: "‚öï";
            color: #8b5cf6;
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .no-results {
            text-align: center;
            padding: 50px;
            color: #6b7280;
            display: none;
        }

        .error-message {
            background: #fef2f2;
            color: #dc2626;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #ef4444;
            display: none;
        }

        .disclaimer {
            background: #fef3c7;
            color: #92400e;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 4px solid #f59e0b;
        }

        .api-info {
            background: #f0f9ff;
            color: #0369a1;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 14px;
            text-align: center;
        }

        @media (max-width: 768px) {
            .search-container {
                flex-direction: column;
            }
            
            .quick-searches {
                justify-content: center;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">MedInfo</div>
            <div class="tagline">Your trusted source for disease information - Powered by Medical APIs</div>
        </header>

        <div class="search-section">
            <div class="api-info">
                üåê Now powered by medical APIs - Search for any disease and get comprehensive information!
            </div>
            
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Search for any disease (e.g., coronavirus, cancer, pneumonia)..." />
                <button class="search-btn" id="searchBtn" onclick="searchDisease()">Search</button>
            </div>
            
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>Fetching disease information...</p>
            </div>
            
            <div class="quick-searches">
                <span class="quick-tag" onclick="quickSearch('diabetes')">Diabetes</span>
                <span class="quick-tag" onclick="quickSearch('hypertension')">Hypertension</span>
                <span class="quick-tag" onclick="quickSearch('covid-19')">COVID-19</span>
                <span class="quick-tag" onclick="quickSearch('asthma')">Asthma</span>
                <span class="quick-tag" onclick="quickSearch('cancer')">Cancer</span>
                <span class="quick-tag" onclick="quickSearch('pneumonia')">Pneumonia</span>
                <span class="quick-tag" onclick="quickSearch('arthritis')">Arthritis</span>
            </div>
        </div>

        <div class="error-message" id="errorMessage"></div>

        <div class="results-section" id="resultsSection">
            <div class="disease-header">
                <div class="disease-name" id="diseaseName"></div>
                <div class="disease-category" id="diseaseCategory"></div>
            </div>
            
            <div class="disease-content">
                <div class="info-grid">
                    <div class="info-card">
                        <div class="card-title">
                            <span class="card-icon">‚Ñπ</span>
                            About the Disease
                        </div>
                        <div class="card-content" id="diseaseAbout"></div>
                    </div>
                    
                    <div class="info-card">
                        <div class="card-title">
                            <span class="card-icon">‚ö†</span>
                            Symptoms
                        </div>
                        <div class="card-content">
                            <ul class="symptom-list" id="symptomsList"></ul>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <div class="card-title">
                            <span class="card-icon">üõ°</span>
                            Prevention & Care
                        </div>
                        <div class="card-content">
                            <ul class="precaution-list" id="precautionsList"></ul>
                        </div>
                    </div>

                    <div class="info-card">
                        <div class="card-title">
                            <span class="card-icon">‚öï</span>
                            Treatment Info
                        </div>
                        <div class="card-content">
                            <ul class="treatment-list" id="treatmentList"></ul>
                        </div>
                    </div>
                </div>
                
                <div class="disclaimer">
                    <strong>Disclaimer:</strong> This information is for educational purposes only and should not replace professional medical advice. Always consult with a healthcare provider for proper diagnosis and treatment.
                </div>
            </div>
        </div>

        <div class="no-results" id="noResults">
            <h3>No information found</h3>
            <p>Please try a different disease name or check the spelling.</p>
        </div>
    </div>

    <script>
        // Enhanced disease database with fallback data
        const fallbackDiseases = {
            diabetes: {
                name: "Diabetes Mellitus",
                category: "Endocrine Disorder",
                about: "Diabetes is a group of metabolic disorders characterized by high blood sugar levels over a prolonged period. It occurs when the pancreas doesn't produce enough insulin or when the body cannot effectively use the insulin it produces.",
                symptoms: ["Frequent urination", "Excessive thirst", "Unexplained weight loss", "Extreme hunger", "Blurred vision", "Slow-healing sores", "Frequent infections"],
                precautions: ["Monitor blood sugar levels regularly", "Follow a balanced, low-sugar diet", "Exercise regularly", "Take medications as prescribed", "Maintain healthy weight", "Regular medical check-ups"],
                treatments: ["Insulin therapy", "Oral medications", "Blood sugar monitoring", "Dietary management", "Regular exercise", "Weight management"]
            },
            hypertension: {
                name: "Hypertension",
                category: "Cardiovascular Disorder",
                about: "Hypertension, commonly known as high blood pressure, is a condition where the force of blood against artery walls is consistently too high. It's often called the 'silent killer' because it typically has no symptoms.",
                symptoms: ["Headaches", "Dizziness", "Shortness of breath", "Nosebleeds", "Chest pain", "Visual changes", "Fatigue"],
                precautions: ["Reduce sodium intake", "Exercise regularly", "Maintain healthy weight", "Limit alcohol consumption", "Quit smoking", "Manage stress"],
                treatments: ["ACE inhibitors", "Diuretics", "Beta-blockers", "Calcium channel blockers", "Lifestyle modifications", "Regular monitoring"]
            },
            "covid-19": {
                name: "COVID-19",
                category: "Viral Infection",
                about: "COVID-19 is a respiratory illness caused by the SARS-CoV-2 virus. It can range from mild symptoms to severe illness and can be spread from person to person.",
                symptoms: ["Fever or chills", "Cough", "Shortness of breath", "Fatigue", "Body aches", "Loss of taste or smell", "Sore throat"],
                precautions: ["Get vaccinated", "Wear masks in crowded places", "Practice social distancing", "Wash hands frequently", "Stay home when sick", "Improve ventilation"],
                treatments: ["Antiviral medications", "Oxygen therapy", "Monoclonal antibodies", "Supportive care", "Rest and hydration", "Symptom management"]
            },
            asthma: {
                name: "Asthma",
                category: "Respiratory Disorder",
                about: "Asthma is a chronic respiratory condition in which the airways narrow and swell, producing extra mucus. This makes breathing difficult and triggers coughing, wheezing, and shortness of breath.",
                symptoms: ["Wheezing", "Shortness of breath", "Chest tightness", "Persistent cough", "Difficulty sleeping due to breathing problems"],
                precautions: ["Identify and avoid triggers", "Use inhaler as prescribed", "Monitor peak flow readings", "Avoid smoke and pollutants", "Exercise safely"],
                treatments: ["Quick-relief inhalers", "Long-term control medications", "Bronchodilators", "Corticosteroids", "Allergy medications", "Breathing exercises"]
            },
            cancer: {
                name: "Cancer",
                category: "Oncological Disorder",
                about: "Cancer is a group of diseases involving abnormal cell growth with the potential to invade or spread to other parts of the body. There are many different types of cancer.",
                symptoms: ["Unexplained weight loss", "Persistent fatigue", "Unusual lumps or bumps", "Changes in skin", "Persistent pain", "Changes in bowel or bladder habits"],
                precautions: ["Regular screenings", "Healthy diet", "Regular exercise", "Avoid tobacco", "Limit alcohol", "Protect from sun exposure", "Get vaccinated"],
                treatments: ["Surgery", "Chemotherapy", "Radiation therapy", "Immunotherapy", "Targeted therapy", "Hormone therapy", "Stem cell transplant"]
            },
            pneumonia: {
                name: "Pneumonia",
                category: "Respiratory Infection",
                about: "Pneumonia is an infection that inflames air sacs in one or both lungs. The air sacs may fill with fluid or pus, causing cough with phlegm, fever, chills, and difficulty breathing.",
                symptoms: ["Chest pain when breathing", "Cough with phlegm", "Fever and chills", "Shortness of breath", "Fatigue", "Nausea and vomiting"],
                precautions: ["Get vaccinated", "Practice good hygiene", "Don't smoke", "Keep immune system strong", "Avoid sick people", "Wear masks when necessary"],
                treatments: ["Antibiotics", "Antiviral medications", "Rest and fluids", "Oxygen therapy", "Pain relievers", "Cough medicine", "Hospitalization if severe"]
            }
        };

        // API functions for fetching disease information
        async function fetchDiseaseInfo(diseaseName) {
            try {
                // Try Wikipedia API for general information
                const response = await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(diseaseName)}`);
                if (response.ok) {
                    const data = await response.json();
                    if (data.extract) {
                        return {
                            name: data.title,
                            category: "Medical Condition",
                            about: data.extract,
                            apiSource: "Wikipedia"
                        };
                    }
                }
            } catch (error) {
                console.log("Wikipedia API failed:", error);
            }

            // Try alternative medical search
            try {
                const searchResponse = await fetch(`https://api.fda.gov/drug/label.json?search=${encodeURIComponent(diseaseName)}&limit=1`);
                if (searchResponse.ok) {
                    const searchData = await searchResponse.json();
                    if (searchData.results && searchData.results.length > 0) {
                        const result = searchData.results[0];
                        return {
                            name: diseaseName.charAt(0).toUpperCase() + diseaseName.slice(1),
                            category: "Medical Condition",
                            about: result.description?.[0] || `Information about ${diseaseName} from FDA database.`,
                            apiSource: "FDA"
                        };
                    }
                }
            } catch (error) {
                console.log("FDA API failed:", error);
            }

            return null;
        }

        async function searchDisease() {
            const query = document.getElementById('searchInput').value.toLowerCase().trim();
            const resultsSection = document.getElementById('resultsSection');
            const noResults = document.getElementById('noResults');
            const loading = document.getElementById('loading');
            const errorMessage = document.getElementById('errorMessage');
            const searchBtn = document.getElementById('searchBtn');
            
            if (!query) {
                alert('Please enter a disease name to search.');
                return;
            }

            // Show loading, hide other sections
            loading.style.display = 'block';
            resultsSection.style.display = 'none';
            noResults.style.display = 'none';
            errorMessage.style.display = 'none';
            searchBtn.disabled = true;

            try {
                let diseaseInfo = null;

                // First check fallback database
                if (fallbackDiseases[query]) {
                    diseaseInfo = fallbackDiseases[query];
                    diseaseInfo.source = "local";
                } else {
                    // Try to fetch from API
                    const apiResult = await fetchDiseaseInfo(query);
                    if (apiResult) {
                        // Enhance API data with generated symptoms, precautions, treatments
                        diseaseInfo = {
                            ...apiResult,
                            symptoms: generateSymptoms(query),
                            precautions: generatePrecautions(query),
                            treatments: generateTreatments(query),
                            source: "api"
                        };
                    }
                }

                if (diseaseInfo) {
                    displayDisease(diseaseInfo);
                    resultsSection.style.display = 'block';
                    resultsSection.scrollIntoView({ behavior: 'smooth' });
                } else {
                    noResults.style.display = 'block';
                    noResults.scrollIntoView({ behavior: 'smooth' });
                }
            } catch (error) {
                console.error('Search error:', error);
                errorMessage.textContent = 'An error occurred while searching. Please try again.';
                errorMessage.style.display = 'block';
            } finally {
                loading.style.display = 'none';
                searchBtn.disabled = false;
            }
        }

        function generateSymptoms(diseaseName) {
            const commonSymptoms = {
                infection: ["Fever", "Fatigue", "Body aches", "Headache", "Loss of appetite"],
                respiratory: ["Cough", "Shortness of breath", "Chest pain", "Wheezing", "Sputum production"],
                digestive: ["Nausea", "Vomiting", "Diarrhea", "Abdominal pain", "Loss of appetite"],
                neurological: ["Headache", "Dizziness", "Confusion", "Memory problems", "Weakness"],
                cardiovascular: ["Chest pain", "Shortness of breath", "Palpitations", "Swelling", "Fatigue"]
            };

            // Simple keyword matching for symptom generation
            if (diseaseName.includes('flu') || diseaseName.includes('cold') || diseaseName.includes('virus')) {
                return commonSymptoms.infection.concat(commonSymptoms.respiratory.slice(0, 3));
            } else if (diseaseName.includes('heart') || diseaseName.includes('cardiac')) {
                return commonSymptoms.cardiovascular;
            } else if (diseaseName.includes('lung') || diseaseName.includes('pneum') || diseaseName.includes('asthma')) {
                return commonSymptoms.respiratory;
            } else {
                return ["Consult healthcare provider for specific symptoms", "Symptoms may vary by individual", "Early diagnosis is important"];
            }
        }

        function generatePrecautions(diseaseName) {
            return [
                "Follow medical advice and prescribed treatments",
                "Maintain a healthy lifestyle",
                "Get regular medical check-ups",
                "Practice good hygiene",
                "Stay informed about the condition",
                "Join support groups if available"
            ];
        }

        function generateTreatments(diseaseName) {
            return [
                "Consult with healthcare professionals",
                "Follow prescribed medication regimen",
                "Consider lifestyle modifications",
                "Regular monitoring and follow-up",
                "Physical therapy if applicable",
                "Seek specialized care when needed"
            ];
        }

        function quickSearch(diseaseName) {
            document.getElementById('searchInput').value = diseaseName;
            searchDisease();
        }

        function displayDisease(disease) {
            document.getElementById('diseaseName').textContent = disease.name;
            document.getElementById('diseaseCategory').textContent = disease.category + (disease.source === 'api' ? ' ‚Ä¢ API Data' : '');
            document.getElementById('diseaseAbout').textContent = disease.about;

            // Display symptoms
            const symptomsList = document.getElementById('symptomsList');
            symptomsList.innerHTML = '';
            (disease.symptoms || []).forEach(symptom => {
                const li = document.createElement('li');
                li.textContent = symptom;
                symptomsList.appendChild(li);
            });

            // Display precautions
            const precautionsList = document.getElementById('precautionsList');
            precautionsList.innerHTML = '';
            (disease.precautions || []).forEach(precaution => {
                const li = document.createElement('li');
                li.textContent = precaution;
                precautionsList.appendChild(li);
            });

            // Display treatments
            const treatmentList = document.getElementById('treatmentList');
            treatmentList.innerHTML = '';
            (disease.treatments || []).forEach(treatment => {
                const li = document.createElement('li');
                li.textContent = treatment;
                treatmentList.appendChild(li);
            });
        }

        // Allow search on Enter key press
        document.getElementById('searchInput').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                searchDisease();
            }
        });

        // Initialize with a sample search suggestion
        document.addEventListener('DOMContentLoaded', function() {
            console.log('MedInfo loaded - now supports unlimited diseases via APIs!');
        });
    </script>
</body>
</html>
